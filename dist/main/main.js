(()=>{var e={157:e=>{"use strict";e.exports=require("electron")},928:e=>{"use strict";e.exports=require("path")}},o={};function t(n){var r=o[n];if(void 0!==r)return r.exports;var s=o[n]={exports:{}};return e[n](s,s.exports,t),s.exports}const{app:n,BrowserWindow:r}=t(157),s=t(928),i=!n.isPackaged;function a(){const e=new r({width:1200,height:800,title:"Amnesia",backgroundColor:"#0f1014",show:!1,webPreferences:{preload:s.join(__dirname,"preload.js"),contextIsolation:!0,nodeIntegration:!1,sandbox:!0}});if(e.once("ready-to-show",()=>e.show()),i)e.loadURL("http://localhost:3000").catch(console.error),e.webContents.openDevTools({mode:"detach"});else{const o=s.resolve(__dirname,"..","renderer","index.html");e.loadFile(o).catch(console.error)}return e}n.requestSingleInstanceLock()?n.on("second-instance",()=>{const e=r.getAllWindows()[0];e&&(e.isMinimized()&&e.restore(),e.focus())}):n.quit(),n.setAppUserModelId("com.pablo.amnesia"),n.whenReady().then(()=>{i&&(process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true"),a(),n.on("activate",()=>{0===r.getAllWindows().length&&a()})}),n.on("window-all-closed",()=>{"darwin"!==process.platform&&n.quit()})})();